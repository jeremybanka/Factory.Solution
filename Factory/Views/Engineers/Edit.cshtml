@{
  Layout = "_Layout";
}
@using Factory.Models
@model Factory.Models.Engineer
<header>
  <h2>Edit Engineer</h2>
  <h3>@Html.DisplayFor(model => model.Name)</h3>
</header>
<main>

  @using (Html.BeginForm(
  "Create",
  "Licenses",
  new { EngineerId = Model.EngineerId, origin = ViewBag.Controller }
  ))
  {
    @Html.HiddenFor(model => model.EngineerId)
    <input type="submit" value="Give License For" />
    @Html.DropDownList("MachineId")
  }
  <ul>
    @foreach (License l in Model.Licenses)
    {
      <li>
        @using (Html.BeginForm(
       "Delete",
       "Licenses",
       new { id = l.LicenseId, origin = ViewBag.Controller }
       ))
        {
          @l.Machine.Name
          <input type="submit" value="x">
        }
      </li>
    }
  </ul>
  @using (Html.BeginForm())
  {
    @Html.HiddenFor(model => model.EngineerId)
    @Html.LabelFor(model => model.Name)
    @Html.EditorFor(model => model.Name)
    <input type="submit" value="Save" />
  }
</main>
<footer>
  <p>@Html.ActionLink("Engineer List", "Index")</p>
  <p>@Html.ActionLink("Home", "Index", "Home")</p>
</footer>
